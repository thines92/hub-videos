<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <style>
    #video-list {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      text-align: center;
    }
  </style>
</head>
  <body>
    <!-- The <iframe> (and video player) will replace this <div> tag. -->
    <div id="player"></div>

    <div id="video-list"></div>

    <script>
      // This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // This function creates an <iframe> (and YouTube player)
      // after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '390',
          width: '80%',
          videoId: 'OhEnIp6beYI',
          events: {}
        });
      }

      var Videos = [
        {
          name: "578 Eclaire Stars in Light 'Em Up!",
          id: 'lT40mWd_-7U',
          img: "https://via.placeholder.com/200x150"
        },
        {
          name: "597 Moisant Stars in Light 'Em Up!",
          id: 'mxPIAABeccw',
          img: "https://via.placeholder.com/200x150"
        },{
          name: "Santorini Torch",
          id: 'q_EMZjBgx7s',
          img: "https://via.placeholder.com/200x150"
        },{
          name: "The Matea Hybrid Ink Pen",
          id: 'IdwH57G6SoE',
          img: "https://via.placeholder.com/200x150"
        },{
          name: "Eclaire Bright Illuminated Stylus Pen",
          id: 'jk4jSYcGkC4',
          img: "https://via.placeholder.com/200x150"
        }
      ]

      function createVideoMarkup() {
        var videoWrapper = $("<div class='video' data-videoId=" + Videos[i].id + "></div>")
        var videoImg = $("<div class='video-img'> <img src=" + Videos[i].img + "> </div>");      
        var videoName = $("<div class='video-name'> <h4>" + Videos[i].name + "</h4> </div>")
        $(videoWrapper).append(videoImg);
        $(videoWrapper).append(videoName);
        $("#video-list").append(videoWrapper);
      }

      function addVideos() {
        for(i=0; i < Videos.length; i++) {
          createVideoMarkup();
        }
      }

      function createUrl(id) {
        url = "https://www.youtube.com/v/" + id + "?version=3";
        return url;
      }

      function loadVideo(videoId) {
        player.loadVideoByUrl(createUrl(videoId));
      }

      $(document).ready(addVideos());

      $(".video").click(function() {
        videoId = this.dataset.videoid;
        loadVideo(videoId);
      });

      

      // var yt_api_key = 'AIzaSyA39ywRN5C3E0LhlfqJtFXGk6lI1tDH2K4',
      //     yt_video_id = 'jk4jSYcGkC4',
      //     yt_snippet_endpoint = "https://www.googleapis.com/youtube/v3/videos?part=snippet&id=" + yt_video_id + "&key=" + yt_api_key;

      // var jqxhr = $.getJSON(yt_snippet_endpoint)
      //   .done(function(data) {
      //     console.log("second success callback");
      //     var title = getTitle(data);
      //     // do something with title here
      //     alert(title);
      //   })
      //   .fail(function() {
      //     console.log("error, see network tab for response details");
      //   });

      // function getTitle(snippet_json_data){
      //   var title = snippet_json_data.items[0].snippet.title;
      //   return title;
      // }
      </script>
  </body>
</html>